Plug 'vim-scripts/ReplaceWithRegister'

set number
set relativenumber
set hlsearch
set smartcase
set ignorecase

nnoremap <leader>ev :edit ~/.ideavimrc<cr>
nnoremap <leader>sv :source ~/.ideavimrc <bar> echo "~/.ideavimrc sourced"<cr>

imap jk <esc>

" Window management
map <leader>ww <Action>(HideAllWindows)
map <leader>wo <Action>(CloseAllEditorsButActive)
map <leader>ca <Action>(ToggleDistractionFreeMode)
nnoremap <leader><leader> <c-6>
nnoremap [r :tabprevious<cr>
nnoremap ]r :tabnext<cr>
nnoremap <space>h <c-w>h
nnoremap <space>l <c-w>l
map <space>q <Action>(CloseContent)

" Search
map <space>o <Action>(GotoFile)
map <space>[ <Action>(GotoClass)
map <space>] <Action>(GotoSymbol)
map <space>a <Action>(FindInPath)
nmap [q <Action>(PreviousOccurence)
nmap ]q <Action>(NextOccurence)
nnoremap gh :nohlsearch<cr>

" Code navigation
nmap <c-o> <Action>(Back)
nmap <c-i> <Action>(Forward)
map <space>e <Action>(GotoDeclaration)
map <leader>ge <Action>(FindUsages)
map <leader>gi <Action>(GotoImplementation)
map <leader>dk <Action>(ShowErrorDescription)
" show file in Project view (use cmd+1 to close Project view)
map - <Action>(SelectInProjectView)

" git blame
map <leader>gb <Action>(Annotate)
" open current line in GitHub, GitLab, etc. (via GitLink plugin)
map <leader>gh <Action>(uk.co.ben_gibson.git.link.ui.actions.menu.BrowserAction)

" Text editing
map <leader>gp <Action>(ReformatCode)

" edit common files
nnoremap <leader>ew :edit ~/Google Drive/My Drive/notes-work/work-buffer.txt<cr>
